(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{11:function(t,s,a){var e=a(51);"string"==typeof e&&(e=[[t.i,e,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a(3)(e,o);e.locals&&(t.exports=e.locals)},50:function(t,s,a){"use strict";var e=a(11);a.n(e).a},51:function(t,s,a){(t.exports=a(2)(!1)).push([t.i,"\n.v-spinner[data-v-35ed8ca2]{\n    float:right\n}\n",""])},68:function(t,s,a){"use strict";a.r(s);Vue.prototype.$userId=document.querySelector("meta[name='user-id']").getAttribute("content");var e={data:function(){return{isLoading:!1,isEdit:!1,errors:{},form:new Form({firstname:"",lastname:"",country:"",email:""}),changePass:new Form({password:"",newPassword:""})}},methods:{loadProfile:function(){var t=this;axios.get("api/user/profile?api_token="+window.token).then((function(s){t.form.firstname=s.data.firstname,t.form.lastname=s.data.lastname,t.form.country=s.data.country,t.form.email=s.data.email}))},editMode:function(){this.isEdit=!0},update:function(){var t=this;this.isLoading=!0,axios.put("api/user/profile/update/"+this.$userId+"?api_token="+window.token,this.form).then((function(s){t.isLoading=!1,t.isEdit=!1,$("#hexagramModal").modal("hide"),t.$notify({group:"notification",type:"success",title:"Update Profile",text:"Your record has been updated"})})).catch((function(s){t.errors=s.response.data.errors,t.isLoading=!1}))},changePassword:function(){var t=this;axios.post("api/user/profile/changePassword?api_token="+window.token,this.changePass).then((function(s){t.errors=[],t.$notify({group:"notification",type:"success",title:"Update Password",text:"Your Password has been updated"})})).catch((function(s){t.errors=s.response.data.errors}))}},mounted:function(){this.loadProfile()}},o=(a(50),a(0)),r=Object(o.a)(e,(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("Edit Profile")]),t._v(" "),a("div",{staticClass:"card-body"},[a("notifications",{attrs:{group:"notification",position:"bottom right"}}),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:"firstname"}},[t._v("Firstname")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.firstname,expression:"form.firstname"}],staticClass:"form-control",attrs:{readonly:!t.isEdit,type:"text"},domProps:{value:t.form.firstname},on:{input:function(s){s.target.composing||t.$set(t.form,"firstname",s.target.value)}}}),t._v(" "),t.errors.firstname?a("span",{staticClass:"font-italic text-danger",domProps:{textContent:t._s(t.errors.firstname[0])}}):t._e()]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:"firstname"}},[t._v("Lastname")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.lastname,expression:"form.lastname"}],staticClass:"form-control",attrs:{readonly:!t.isEdit,type:"text"},domProps:{value:t.form.lastname},on:{input:function(s){s.target.composing||t.$set(t.form,"lastname",s.target.value)}}}),t._v(" "),t.errors.lastname?a("span",{staticClass:"font-italic text-danger",domProps:{textContent:t._s(t.errors.lastname[0])}}):t._e()])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:"firstname"}},[t._v("Country")]),t._v(" "),a("country-select",{staticClass:"form-control",attrs:{disabled:!t.isEdit,countryName:!0,country:t.form.country,topCountry:"US"},model:{value:t.form.country,callback:function(s){t.$set(t.form,"country",s)},expression:"form.country"}}),t._v(" "),t.errors.country?a("span",{staticClass:"font-italic text-danger",domProps:{textContent:t._s(t.errors.country[0])}}):t._e()],1),t._v(" "),a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:"firstname"}},[t._v("Email Address")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{readonly:!t.isEdit,type:"text"},domProps:{value:t.form.email},on:{input:function(s){s.target.composing||t.$set(t.form,"email",s.target.value)}}}),t._v(" "),t.errors.email?a("span",{staticClass:"font-italic text-danger",domProps:{textContent:t._s(t.errors.email[0])}}):t._e()])]),t._v(" "),a("div",{staticClass:"mt-5 mb-5 text-right"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}]},[a("loader")],1),t._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading&t.isEdit,expression:"!isLoading & isEdit"}],staticClass:"btn btn-success",on:{click:t.update}},[t._v("Update")]),t._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:!t.isEdit,expression:"!isEdit"}],staticClass:"btn btn-primary",on:{click:t.editMode}},[t._v("Edit Profile")])]),t._v(" "),a("hr"),t._v(" "),a("h4",[t._v("Change Password")]),t._v(" "),a("div",[a("label",{attrs:{for:"password"}},[t._v("Password")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.changePass.password,expression:"changePass.password"}],staticClass:"form-control",attrs:{type:"password",autocomplete:"new-password"},domProps:{value:t.changePass.password},on:{input:function(s){s.target.composing||t.$set(t.changePass,"password",s.target.value)}}}),t._v(" "),t.errors.password?a("span",{staticClass:"font-italic text-danger",domProps:{textContent:t._s(t.errors.password[0])}}):t._e()]),t._v(" "),a("div",[a("label",{attrs:{for:"password"}},[t._v("New Password")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.changePass.newPassword,expression:"changePass.newPassword"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.changePass.newPassword},on:{input:function(s){s.target.composing||t.$set(t.changePass,"newPassword",s.target.value)}}}),t._v(" "),t.errors.newPassword?a("span",{staticClass:"font-italic text-danger",domProps:{textContent:t._s(t.errors.newPassword[0])}}):t._e()]),t._v(" "),a("div",[a("label",{attrs:{for:"password"}},[t._v("Confirm Password")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.changePass.newPassword_confirmation,expression:"changePass.newPassword_confirmation"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.changePass.newPassword_confirmation},on:{input:function(s){s.target.composing||t.$set(t.changePass,"newPassword_confirmation",s.target.value)}}})]),t._v(" "),a("button",{staticClass:"btn btn-success mt-2 float-right",on:{click:t.changePassword}},[t._v("Change Password")])],1)])])])])])}),[],!1,null,"35ed8ca2",null);s.default=r.exports}}]);