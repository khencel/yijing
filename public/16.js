(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{80:function(t,e,a){"use strict";a.r(e);function i(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var s={components:{NumberJournal:a(16).a},props:["user_id"],data:function(){var t;return{attributes:{},cast_type:"",trigramDisable:!1,hexagramDisable:!1,journals:{},journal_details:{},errors:{},customer_journal:{},id:"",current:new Date,form:new Form((t={user_id:this.user_id,type:"",cast_type:"",question:""},i(t,"question",""),i(t,"details",""),i(t,"comment",""),i(t,"hex_code",""),i(t,"hex_name",""),i(t,"transforms",""),i(t,"transform_name",""),i(t,"tri_code",""),i(t,"tri_name",""),i(t,"original_hex_id",""),i(t,"transform_hex_id",""),i(t,"trigram_id",""),i(t,"date",(new Date).toDateString()),t))}},methods:{loadAttribute:function(){var t=this;axios.get("/api/user/attribute?api_token="+window.token).then((function(e){t.attributes=e.data}))},CustomerJournalList:function(){var t=this;axios.get("/api/consultant/journal/"+this.user_id[0]+"/"+this.user_id[1]+"?api_token="+window.token).then((function(e){t.customer_journal=e.data,t.cast_type=""!=t.cast_type?e.data[0].cast_type:""}))},createJournal:function(){$("#journalModal").modal("show")},castHex:function(){var t=this;this.form.cast_type="Hexagram",axios.get("/api/user/cast?api_token="+window.token).then((function(e){t.form.original_hex_id=e.data.hexagram[0].id,t.form.hex_name=e.data.hexagram[0].name;var a,i=e.data.hexagram[0].code.split(""),s=(a=6,Math.floor(Math.random()*Math.floor(a)));0==s&&(s=1),1==i[s-1]?i[s-1]=3:i[s-1]=4,t.form.hex_code=i;var r=e.data.hexagram[0].code.split("");0==r[s-1]?r[s-1]="1":r[s-1]="0",t.form.transforms=r,t.getTransformname()}))},getTransformname:function(){var t=this;axios.post("/api/user/transform/name?api_token="+window.token,{transformName:this.form.transforms}).then((function(e){t.form.transform_hex_id=e.data.id,t.form.transform_name=e.data.name}))},castTri:function(){var t=this;this.form.cast_type="Trigram",axios.get("/api/user/trigram?api_token="+window.token).then((function(e){t.form.trigram_id=e.data[0].id,t.form.tri_code=e.data[0].code.split(""),t.form.tri_name=e.data[0].name}))},castValidation:function(t){""==this.form.type||""==this.form.question||""==this.form.details?this.$notify({group:"notification",type:"error",title:"Invalid details",text:"Question type, question, details are required"}):"hexagram"==t?this.castHex():this.castTri()},btnSave:function(){var t=this;""==this.form.cast_type?this.$notify({group:"notification",type:"error",title:"Invalid Trigram or Hexagram",text:"Please click trigram or hexagram before you save"}):this.form.post("/api/journal?api_token="+window.token).then((function(e){t.$notify({group:"notification",type:"success",title:"Journal Created",text:"Journal has been Created"}),$("#journalModal").modal("hide")})).catch((function(e){t.errors=e.response.data.errors}))},displayDetails:function(t){var e=this;this.form.get("/api/journal/"+t+"?api_token="+window.token).then((function(t){e.journal_details=t.data}))},propertiesSelected:function(){1==this.form.type[1]?(this.trigramDisable=!0,this.hexagramDisable=!1):(this.trigramDisable=!1,this.hexagramDisable=!0)},createJournalOracle:function(){this.$refs.oracle.showModal()}},mounted:function(){this.loadAttribute(),this.CustomerJournalList()}},r=a(0),o=Object(r.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:0==Object.keys(t.customer_journal).length,expression:"Object.keys(customer_journal).length == 0"}],staticClass:"card p-2"},[a("button",{staticClass:"button-primary",on:{click:t.createJournalOracle}},[t._v("Create Journal(Number or Word)")]),t._v(" "),a("button",{staticClass:"button-success mt-2",on:{click:t.createJournal}},[t._v("Create Journal(Trigram or Hexagram)")])]),t._v(" "),a("div",{staticClass:"card"},[a("div",{staticClass:"row p-4"},["Trigram"==t.cast_type?a("div",{staticClass:"col-md-7"},t._l(t.customer_journal,(function(e){return a("div",{key:e.id,staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-5 text-center"},t._l(e.trigram,(function(e,i){return a("div",{key:i},[t._l(e.code,(function(e){return a("div",{key:e.id},[a("img",{directives:[{name:"show",rawName:"v-show",value:1==e,expression:"trigram==1"}],staticStyle:{width:"90%",height:"50px"},attrs:{src:"/img/solidLine.png",alt:""}}),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:"0"==e,expression:"trigram=='0'"}],staticStyle:{width:"90%",height:"50px"},attrs:{src:"/img/brokenLine.png",alt:""}})])})),t._v(" "),a("div",[a("strong",[t._v("\n                                     "+t._s(e.name)+"\n                                 ")])])],2)})),0)])})),0):a("div",{staticClass:"col-md-7"},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==Object.keys(t.customer_journal).length,expression:"Object.keys(customer_journal).length == 0"}]},[t._v("No record...")]),t._v(" "),t._l(t.customer_journal,(function(e,i){return a("div",{key:i,staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-5 text-center"},[t._l(e.hex_focus,(function(e,i){return a("div",{key:i},[a("img",{directives:[{name:"show",rawName:"v-show",value:1==e,expression:"hexagram==1"}],class:4==i?"mb-3":"",staticStyle:{width:"90%",height:"50px"},attrs:{src:"/img/solidLine.png",alt:""}}),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:"0"==e,expression:"hexagram=='0'"}],class:4==i?"mb-3":"",staticStyle:{width:"90%",height:"50px"},attrs:{src:"/img/brokenLine.png",alt:""}}),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:3==e,expression:"hexagram == 3"}],class:4==i?"mb-3":"",staticStyle:{width:"90%",height:"50px"},attrs:{src:"/img/solidLinefocus.png",alt:""}}),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:4==e,expression:"hexagram == 4"}],class:4==i?"mb-3":"",staticStyle:{width:"90%",height:"50px"},attrs:{src:"/img/brokenCircle.png",alt:""}})])})),t._v(" "),t._l(e.hex_original,(function(e){return a("div",{key:e.id},[a("strong",[t._v(t._s(e.name))]),t._v(" "),a("p",[t._v(t._s(e.meaning))])])}))],2),t._v(" "),a("div",{staticClass:"col-md-1 text-center ",staticStyle:{height:"310px"}},[a("div",{staticStyle:{position:"absolute",top:"48%"}},[a("svg",{staticStyle:{width:"24px",height:"24px"},attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:"currentColor",d:"M4,10V14H13L9.5,17.5L11.92,19.92L19.84,12L11.92,4.08L9.5,6.5L13,10H4Z"}})])])]),t._v(" "),t._l(e.hex_transform,(function(e){return a("div",{key:e.id,staticClass:"col-md-5 text-center"},[t._l(e.code,(function(e,i){return a("div",{key:i},[a("img",{directives:[{name:"show",rawName:"v-show",value:1==e,expression:"transform_hex==1"}],class:2==i?"mb-3":"",staticStyle:{width:"90%",height:"50px"},attrs:{src:"/img/solidLine.png",alt:""}}),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:"0"==e,expression:"transform_hex=='0'"}],class:2==i?"mb-3":"",staticStyle:{width:"90%",height:"50px"},attrs:{src:"/img/brokenLine.png",alt:""}})])})),t._v(" "),a("div",[a("strong",[t._v(t._s(e.name))])]),t._v(" "),a("p",[t._v(t._s(e.meaning))])],2)}))],2)}))],2),t._v(" "),t._l(t.customer_journal,(function(e){return a("div",{key:e.id,staticClass:"col-md-5"},[t._l(e.hex_transform,(function(e){return a("div",{key:e.id,staticClass:"position-relative"},[a("img",{staticClass:"img-fluid",attrs:{src:"/storage/img/"+e.photo,alt:""}}),t._v(" "),a("div",{staticClass:"w-25 p-1",staticStyle:{position:"absolute",right:"0",bottom:"0","background-color":"#CCCCCC"}},[a("div",[t._l(e.code,(function(e,i){return a("div",{key:i,staticClass:"text-center"},[a("img",{directives:[{name:"show",rawName:"v-show",value:1==e,expression:"hex==1"}],class:2==i?"mb-2":"",staticStyle:{width:"100%",height:"25px"},attrs:{src:"/img/solidLine.png",alt:""}}),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:"0"==e,expression:"hex=='0'"}],class:2==i?"mb-2":"",staticStyle:{width:"100%",height:"25px"},attrs:{src:"/img/brokenLine.png",alt:""}})])})),t._v(" "),a("div",{staticClass:"text-center"},[t._v("\n                                 "+t._s(e.name)+"\n                             ")])],2)])])})),t._v(" "),t._l(t.customer_journal,(function(e,i){return a("div",{key:i},[a("div",[a("label",{attrs:{for:""}},[t._v("Question Type:")]),t._v("\n                         "+t._s(e.attribute.attribute)+"\n                         \n                     ")]),t._v(" "),a("div",[a("label",{attrs:{for:""}},[t._v("Question:")]),t._v("\n                         "+t._s(e.question)+"\n                     ")]),t._v(" "),a("div",[a("label",{attrs:{for:""}},[t._v("Details:")]),t._v(" "),a("p",[t._v(t._s(e.details))])]),t._v(" "),a("div",[a("label",{attrs:{for:""}},[t._v("Comment:")]),t._v(" "),null==e.comment?a("p",[t._v("No comment...")]):a("p",[t._v(t._s(e.comment))])])])}))],2)}))],2)]),t._v(" "),a("NumberJournal",{ref:"oracle"}),t._v(" "),a("div",{staticClass:"modal fade",staticStyle:{"z-index":"9999"},attrs:{id:"journalModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-7"},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==Object.keys(t.form.hex_code).length&&0==Object.keys(t.form.tri_code).length,expression:"Object.keys(form.hex_code).length == 0 && Object.keys(form.tri_code).length == 0"}],staticClass:"border text-center",staticStyle:{height:"300px","background-color":"#CCCCCC"}},[a("img",{staticClass:"img-fluid",attrs:{src:"/img/default.jpg",alt:""}})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0!=Object.keys(t.form.hex_code).length,expression:"Object.keys(form.hex_code).length != 0"}],staticClass:"row text-center",staticStyle:{"min-height":"300px"}},[a("div",{staticClass:"col-md-5"},[t._l(t.form.hex_code,(function(e,i){return a("div",{key:i},[a("img",{directives:[{name:"show",rawName:"v-show",value:1==e,expression:"item == 1"}],class:2==i?"mb-3":"",staticStyle:{width:"80%",height:"40px"},attrs:{src:"/img/solidLine.png",alt:""}}),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:0==e,expression:"item == 0"}],class:2==i?"mb-3":"",staticStyle:{width:"80%",height:"40px"},attrs:{src:"/img/brokenLine.png",alt:""}}),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:3==e,expression:"item == 3"}],class:2==i?"mb-3":"",staticStyle:{width:"80%",height:"40px"},attrs:{src:"/img/solidLinefocus.png",alt:""}}),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:4==e,expression:"item == 4"}],class:2==i?"mb-3":"",staticStyle:{width:"80%",height:"40px"},attrs:{src:"/img/brokenCircle.png",alt:""}})])})),t._v(" "),a("strong",[t._v(t._s(t.form.hex_name))]),t._v(" "),a("p",[t._v("Lorem ipsum dolor sit amet consectetur adipisicing elit. Veniam, ut expedita? Tempora nulla voluptatem omnis consequatur nemo quibusdam blanditiis, adipisci atque. Saepe impedit quidem delectus sapiente odit quae optio nisi.")])],2),t._v(" "),a("div",{staticClass:"col-md-1",staticStyle:{"padding-top":"15%"}},[a("svg",{staticStyle:{width:"24px",height:"24px"},attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:"currentColor",d:"M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z"}})])]),t._v(" "),a("div",{staticClass:"col-md-5"},[t._l(t.form.transforms,(function(e,i){return a("div",{key:i},[a("img",{directives:[{name:"show",rawName:"v-show",value:1==e,expression:"item == 1"}],class:2==i?"mb-3":"",staticStyle:{width:"80%",height:"40px"},attrs:{src:"/img/solidLine.png",alt:""}}),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:0==e,expression:"item == 0"}],class:2==i?"mb-3":"",staticStyle:{width:"80%",height:"40px"},attrs:{src:"/img/brokenLine.png",alt:""}})])})),t._v(" "),a("strong",[t._v(t._s(t.form.transform_name))]),t._v(" "),a("p",[t._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ullam obcaecati, nam quod eos nobis minus ea hic dolorem quos id dicta dolores reprehenderit natus non, voluptatem mollitia animi? Blanditiis, cum.")])],2)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0!=Object.keys(t.form.tri_code).length,expression:"Object.keys(form.tri_code).length != 0"}],staticClass:"row justify-content-center text-center",staticStyle:{"min-height":"300px"}},[a("div",{staticClass:"col-md-5"},[t._l(t.form.tri_code,(function(e,i){return a("div",{key:i},[a("img",{directives:[{name:"show",rawName:"v-show",value:1==e,expression:"item == 1"}],class:2==i?"mb-3":"",staticStyle:{width:"80%",height:"40px"},attrs:{src:"/img/solidLine.png",alt:""}}),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:0==e,expression:"item == 0"}],class:2==i?"mb-3":"",staticStyle:{width:"80%",height:"40px"},attrs:{src:"/img/brokenLine.png",alt:""}})])})),t._v(" "),a("strong",[t._v(t._s(t.form.tri_name))]),t._v(" "),a("p",[t._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ullam obcaecati, nam quod eos nobis minus ea hic dolorem quos id dicta dolores reprehenderit natus non, voluptatem mollitia animi? Blanditiis, cum.")])],2)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==Object.keys(t.form.hex_code).length&&0==Object.keys(t.form.tri_code).length,expression:"Object.keys(form.hex_code).length == 0 && Object.keys(form.tri_code).length == 0"}],staticClass:"row mt-2 text-center"},[a("div",{staticClass:"col-md-6"},[a("button",{class:t.trigramDisable?"button-disable w-75 text-white":"button-primary w-75",attrs:{disabled:t.trigramDisable},on:{click:function(e){return t.castValidation("trigram")}}},[t._v("Trigram")])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("button",{class:t.hexagramDisable?"button-disable w-75 text-white":"button-primary w-75",attrs:{disabled:t.hexagramDisable},on:{click:function(e){return t.castValidation("hexagram")}}},[t._v("Hexagram")])])])]),t._v(" "),a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"mb-2 row"},[t._m(1),t._v(" "),a("div",{staticClass:"col-md-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.type,expression:"form.type"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"type",e.target.multiple?a:a[0])},t.propertiesSelected]}},[a("option",{attrs:{value:"",disabled:"",hidden:""}},[t._v("Question Type")]),t._v(" "),t._l(t.attributes,(function(e){return a("option",{key:e.id,domProps:{value:[e.id,e.is_hex]}},[t._v(t._s(e.attribute))])}))],2),t._v(" "),t.errors.type?a("span",{staticClass:"font-italic text-danger",domProps:{textContent:t._s(t.errors.type[0])}}):t._e()])]),t._v(" "),a("div",{staticClass:"mb-2 row"},[t._m(2),t._v(" "),a("div",{staticClass:"col-md-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.question,expression:"form.question"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Question"},domProps:{value:t.form.question},on:{input:function(e){e.target.composing||t.$set(t.form,"question",e.target.value)}}}),t._v(" "),t.errors.question?a("span",{staticClass:"font-italic text-danger",domProps:{textContent:t._s(t.errors.question[0])}}):t._e()])]),t._v(" "),a("div",{staticClass:"mb-2 row"},[t._m(3),t._v(" "),a("div",{staticClass:"col-md-9"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.details,expression:"form.details"}],staticClass:"form-control",attrs:{cols:"30",rows:"10",placeholder:"Detail"},domProps:{value:t.form.details},on:{input:function(e){e.target.composing||t.$set(t.form,"details",e.target.value)}}}),t._v(" "),t.errors.details?a("span",{staticClass:"font-italic text-danger",domProps:{textContent:t._s(t.errors.details[0])}}):t._e()])])])]),t._v(" "),a("div",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.comment,expression:"form.comment"}],staticClass:"form-control",attrs:{placeholder:"Comment here...",cols:"30",rows:"5"},domProps:{value:t.form.comment},on:{input:function(e){e.target.composing||t.$set(t.form,"comment",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"w-100 text-right"},[a("button",{staticClass:"button-success mr-auto mt-2 w-25",on:{click:t.btnSave}},[t._v("Save Journal")])])])])])]),t._v(" "),a("notifications",{attrs:{group:"notification",position:"bottom right"}})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[this._v("Create Journal")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-3"},[e("label",{attrs:{for:""}},[this._v("Question Type")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-3"},[e("label",{attrs:{for:""}},[this._v("Question")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-3"},[e("label",{attrs:{for:""}},[this._v("Detail")])])}],!1,null,null,null);e.default=o.exports}}]);